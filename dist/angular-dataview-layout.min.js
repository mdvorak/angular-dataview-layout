/*
 angular-dataview-layout v0.0.1
 (c) 2015 Michal Dvorak https://github.com/mdvorak/angular-dataview-layout
 License: MIT
*/
!function(a){"use strict";var b=a.module("mdvorakDataviewLayout",[]);b.directive("dataviewIfType",["$animate","dataviewLayout",function(b,c){function d(b){var c=b[0],d=b[b.length-1],e=[c];do{if(c=c.nextSibling,!c)break;e.push(c)}while(c!==d);return a.element(e)}return{multiElement:!0,transclude:"element",priority:590,terminal:!0,restrict:"A",$$tlb:!0,link:function(a,e,f,g,h){var i,j,k;a.$watch(c.$typeAttribute,function(a){var g;g="!"===f.dataviewIfType[0]?a!=f.dataviewIfType.substr(1):a==f.dataviewIfType,g?j||h(function(a,d){j=d,a[a.length++]=document.createComment(" end dataviewIfType: "+c.$typeAttribute+" "),i={clone:a},b.enter(a,e.parent(),e)}):(k&&(k.remove(),k=null),j&&(j.$destroy(),j=null),i&&(k=d(i.clone),b.leave(k).then(function(){k=null}),i=null))})}}}]),b.provider("dataviewLayout",function(){var b=this;b.typeAttribute="$viewType",b.groups={},b.group=function(c,d){if(arguments.length<2&&(d=c,c="default"),!a.isObject(d))throw new Error("config must be object");b.groups[c]=d},this.$get=["$sce","$templateRequest","$compile",function(c,d,e){var f={};return a.forEach(b.groups,function(b,g){var h=f[g]={};a.forEach(b,function(a,b){var f=h[b]={};f.link=function(i,j,k){if(a.template)f.link=h[b]=e(a.template),f.link(i,j,k);else if(a.$$templatePromise)a.$$templatePromise.then(function(a){a(i,j,k)});else{if(!a.templateUrl)throw new Error("Either template or templateUrl must be set for "+g+"/"+b);a.$$templatePromise=d(c.getTrustedResourceUrl(a.templateUrl)).then(function(a){return f.link=e(a)}),a.$$templatePromise.then(function(a){a(i,j,k)})}}})}),f.$template=function(a,b){var c=f[a]||f["default"];return c&&(c[b]||c["default"])},Object.defineProperty(f,"$typeAttribute",{enumerable:!1,writable:!1,value:b.typeAttribute}),f}]}),b.directive("dataviewLayout",["$compile","dataviewLayout",function(a,b){return{restrict:"EAC",transclude:!0,link:function(a,c,d,e,f){var g=a.$new(),h=b.$template(d.type,a[b.$typeAttribute]);h?h.link(g,function(a){c.empty(),c.append(a)},{parentBoundTranscludeFn:f}):f(g,function(a){c.empty(),c.append(a)})}}}])}(angular);
//# sourceMappingURL=angular-dataview-layout.min.js.map